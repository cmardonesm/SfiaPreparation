<!DOCTYPE html>
<html>
<head>
<title>Ristorante di CORFO</title>
<link rel="stylesheet" href="Formulario.css">
</head>
<body>
			<script type="text/javascript">
				var jugador=0;
				var convinacionj1="";
				var convinacionj2="";
				var arregloJugadas=new Array(3);
				for (var i =0 ; i <= 2; i++) {
					arregloJugadas[i]=[0,0,0];
				}
				console.log(arregloJugadas);

				function asignarResultado(i,j,id){
					jugador+=1;
					if((jugador%2)!=0){
						document.getElementById(id).value="X";
						arregloJugadas[i][j]="X";
					}else{
						document.getElementById(id).value="O";
						arregloJugadas[i][j]="O";
					}
					verificarGanador();
				}

				function verificarGanador(){
					console.log(arregloJugadas);
					var ganador=jugador%2;
					var sumaFilas=0;
					var sumaColumnas=0;
					var sumaDiagonal=0;

					var j=0;
					for (var i = 0; i <= 2; i++) {
						for (var j = 0; j <= 2; j++) {
							if (arregloJugadas[i][j]=="X" && ganador!=0){
								sumaFilas+=1;
							}
							if (arregloJugadas[j][i]=="X" && ganador!=0){
								sumaColumnas+=1;
							}
							if (arregloJugadas[i][j]=="O" && ganador==0){
								sumaFilas+=1;
							}
							if (arregloJugadas[j][i]=="O" && ganador==0){
								sumaColumnas+=1;
							}

						}
						if (ganador==0 && (sumaFilas==3 || sumaColumnas==3)) {
							alert("El jugador 2 ha ganado");
							return;
						}
						if (ganador!=0 && (sumaFilas==3 || sumaColumnas==3)) {
							alert("El jugador 1 ha ganado");
							return;
						}
						sumaFilas=0;
						sumaColumnas=0;

					}
					for (var i = 0; i <= 2; i++) {
							if (arregloJugadas[i][i]=="X" &&ganador!=0){
								sumaDiagonal+=1
							}	
							if (arregloJugadas[i][i]=="O"&&ganador==0){
								sumaDiagonal+=1
							}	
						}

						if (ganador!=0 && sumaDiagonal==3) {
							alert("El jugador 1 ha ganado");
							return;
						}
						if (ganador==0 && sumaDiagonal==3) {
							alert("El jugador 2 ha ganado");
							return;
						}


						sumaDiagonal=0;
					
				}

				function asignarResultadoA(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("a").value="X";

						convinacionj1+="a";
						ganador();
						return; 
					}	
					document.getElementById("a").value="O";
						convinacionj2+="a";
						ganador();
				}
				function asignarResultadoB(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("b").value="X";
						convinacionj1+="b";
						ganador()
						return; 
					}	
					document.getElementById("b").value="O";
						convinacionj2+="b";
						ganador();
				}
				function asignarResultadoC(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("c").value="X";
						convinacionj1+="c";
						ganador()
						return; 
					}	
					document.getElementById("c").value="O";
						convinacionj2+="c";
						ganador()

				}
				function asignarResultadoD(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("d").value="X";
						convinacionj1+="d";
						ganador()
						return; 
					}	
					document.getElementById("d").value="O";
					convinacionj2+="d";
					ganador()
				}

				function asignarResultadoE(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("e").value="X";
						convinacionj1+="e";
						ganador()
						return; 
					}	
					document.getElementById("e").value="O";
					convinacionj2+="e";
					ganador()
				}
				function asignarResultadoF(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("f").value="X";
						convinacionj1+="f";
						ganador()
						return; 
					}	
					document.getElementById("f").value="O";
					convinacionj2+="f";
					ganador()
				}
				function asignarResultadoG(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("g").value="X";
						convinacionj1+="g";
						ganador()
						return; 
					}	
					document.getElementById("g").value="O";
					convinacionj2+="g";
					ganador()
				}
				function asignarResultadoH(){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("h").value="X";
						convinacionj1+="h";
						ganador()
						return; 
					}	
					document.getElementById("h").value="O";
					convinacionj2+="h";
					ganador()
				}
				function asignarResultadoI(resultado){
					jugador=jugador+1;
					if (jugador==1||jugador==3||jugador==5||jugador==7||jugador==9) {
						document.getElementById("i").value="X";
						convinacionj1+="i";
						ganador()
						return; 
					}	
					document.getElementById("i").value="O";
					convinacionj2+="i";
					ganador()
				}
			
				function ganador(){
					//alert(convinacionj1);
					//alert(convinacionj2);
					if (convinacionj1=="abc" || convinacionj1=="def" || convinacionj1=="ghi" || convinacionj1=="aei" || convinacionj1=="ceg" || convinacionj1=="adg" || convinacionj1=="beh" || convinacionj1=="cfi") {
						alert("El jugador 1 ha ganado");
					}
					if (convinacionj2=="abc" || convinacionj2=="def" || convinacionj2=="ghi" || convinacionj2=="aei" || convinacionj2=="ceg" || convinacionj2=="adg" || convinacionj2=="beh" || convinacionj2=="cfi") {
						alert("El jugador 2 ha ganado");
					}
					if(jugador>=9){
						alert("Han Empatado");
					}
					return;
				}			
				
			</script>

<h1>EJERCICIOS EL GATO ELECTRONICO  </h1>
		<form class="contenedor" action="" method="post" onsubmit="PrimeraFuncion()">
			<table style="width:10%">
			  <tr>
			    <td><input class="botonesSecundarios" id="a"  type="button" onclick="asignarResultado(0,0,'a')"></th>
			    <td><input class="botonesSecundarios" id="b"  type="button" onclick="asignarResultado(0,1,'b')"></th> 
			    <td><input class="botonesSecundarios" id="c"  type="button" onclick="asignarResultado(0,2,'c')"></th>
			  </tr>
			  <tr>
			    <td><input class="botonesSecundarios" id="d"  type="button" onclick="asignarResultado(1,0,'d')"></td>
			    <td><input class="botonesSecundarios" id="e"  type="button" onclick="asignarResultado(1,1,'e')"></td> 
			    <td><input class="botonesSecundarios" id="f"  type="button" onclick="asignarResultado(1,2,'f')"></td>
			  </tr>
			  <tr>
			    <td><input class="botonesSecundarios" id="g"  type="button" onclick="asignarResultado(2,0,'g')"></td>
			    <td><input class="botonesSecundarios" id="h"  type="button" onclick="asignarResultado(2,1,'h')"></td> 
			    <td><input class="botonesSecundarios" id="i"  type="button" onclick="asignarResultado(2,2,'i')"></td>
			  </tr>
			</table>
		</form>
</body>
</html>